/*! For license information please see heat-map.min.js.LICENSE.txt */
!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("react")):"function"===typeof define&&define.amd?define(["react"],t):"object"===typeof exports?exports["@uiw/react-heat-map"]=t(require("react")):e["@uiw/react-heat-map"]=t(e.React)}(self,(e=>(()=>{"use strict";var t={192:(e,t,r)=>{var n=r(442),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,a={},u=null,f=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(f=t.ref),t)i.call(t,n)&&!c.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:f,props:a,_owner:l.current}}t.jsx=u,t.jsxs=u},442:t=>{t.exports=e},540:(e,t,r)=>{e.exports=r(192)}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function l(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}n.r(o),n.d(o,{default:()=>M});var s=n(442),d=n.n(s);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=n(540),h={textAnchor:"middle",fontSize:"inherit",fill:"currentColor"},g=function(e){var t=e.weekLabels,r=void 0===t?[]:t,n=e.rectSize,o=void 0===n?0:n,a=e.topPad,i=void 0===a?0:a,l=e.space,c=void 0===l?0:l;return(0,s.useMemo)((function(){return(0,b.jsx)(s.Fragment,{children:v(Array(7)).map((function(e,t){return r&&r[t]?(0,b.jsx)("text",{className:"w-heatmap-week",x:15,y:i,dy:(t+1)*(o+c)-5,style:h,children:r[t]},t):null}))})}),[o,c,i,r])},S=864e5;function j(e){return e instanceof Date&&!isNaN(e.getTime())}function x(e){return"".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate())}var O=function(e,t){var r=Math.ceil(t/(e.length-1)),n={};return e.forEach((function(e,t){n[t*r]=e})),n},w=function(e){var t=e.monthLabels,r=void 0===t?[]:t,n=e.rectSize,o=void 0===n?0:n,a=e.space,i=void 0===a?0:a,l=e.leftPad,c=void 0===l?0:l,u=e.colNum,f=void 0===u?0:u,d=e.rectY,p=void 0===d?15:d,y=e.startDate,m=e.endDate,v=(0,s.useMemo)((function(){return function(e,t,r,n){return!1===t||e<1?[]:Array.from({length:7*e}).map((function(e,o){if(o/7%1===0){var a=new Date(r.getTime()+o*S),i=a.getMonth();return n&&a>n?null:{col:o/7,index:o,month:i,day:a.getDate(),monthStr:t[i],date:a}}return null})).filter(Boolean).filter((function(e,t,r){return r[t-1]&&r[t-1].month!==e.month}))}(f,r,y,m)}),[f,r,y,m]);return(0,b.jsx)(s.Fragment,{children:v.map((function(e,t){return(0,b.jsx)("text",{"data-size":o,x:c+i+i,y:p,dx:e.col*(o+i),textAnchor:"start",style:h,children:e.monthStr},t)}))})},P=["style","value","render","key"],D=function(e){var t=e.style,r=e.value,n=e.render,o=(e.key,u(u({},f(e,P)),{},{style:u({display:"block",cursor:"pointer"},t)}));if(n&&"function"===typeof n){var a=n(u({},o),r);if(a&&d().isValidElement(a))return a}return(0,b.jsx)("rect",u({},o))},E=["panelColors","leftPad","topPad","rectY","space","rectSize","legendCellSize","legendRender"];function k(e){var t=e.panelColors,r=e.leftPad,n=void 0===r?0:r,o=(e.topPad,e.rectY),a=void 0===o?15:o,i=(e.space,e.rectSize),l=void 0===i?0:i,c=e.legendCellSize,d=void 0===c?0:c,p=e.legendRender,y=f(e,E),m=d||l;return(0,s.useMemo)((function(){return(0,b.jsx)(s.Fragment,{children:Object.keys(t||{}).map((function(e,r){var o=u(u({},y),{},{key:r,x:(m+1)*r+n,y:a,fill:t[Number(e)],width:m,height:m});return p?p(o):(0,s.createElement)(D,u(u({},o),{},{key:r}))}))})}),[t,y,m,a,n,l,p])}var A=function(e){var t=e.transform,r=e.gridNum,n=void 0===r?0:r,o=(e.startY,e.panelColors),a=void 0===o?{}:o,i=e.initStartDate,l=e.space,c=void 0===l?2:l,f=e.value,d=void 0===f?[]:f,p=e.rectSize,y=void 0===p?11:p,m=e.endDate,h=e.rectProps,g=e.rectRender,O=(0,s.useMemo)((function(){return function(){var e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){t.date&&j(new Date(t.date))&&(t.date=x(new Date(t.date)),e[t.date]=t)})),e}(d)}),[d]),w=(0,s.useMemo)((function(){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort((function(e,t){return e<t?-1:e>t?1:0}))}(Object.keys(a).map((function(e){return parseInt(e,10)})))}),[a]);return(0,b.jsx)("g",{transform:t,children:n>0&&v(Array(n)).map((function(e,t){return(0,b.jsx)("g",{"data-column":t,children:v(Array(7)).map((function(e,r){var n=new Date(i.getTime()+S*(7*t+r)),o=x(n),l=u(u({},O[o]),{},{date:o,row:r,column:t,index:7*t+r}),f=u(u({},h),{},{fill:"var(--rhm-rect, #EBEDF0)",width:y,height:y,x:t*(y+c),y:(y+c)*r,render:g,value:l});return m instanceof Date&&n.getTime()>m.getTime()?null:(o&&O[o]&&a&&Object.keys(a).length>0?f.fill=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="",o=0;o<t.length;o+=1){if(t[o]>e){n=r[t[o]];break}n=r[t[o]]}return n}(O[o].count||0,w,a):a&&a[0]&&(f.fill=a[0]),(0,s.createElement)(D,u(u({},f),{},{key:r,value:l,"data-date":o,"data-index":l.index,"data-row":l.row,"data-column":l.column})))}))},t)}))})},C=["rectSize","legendCellSize","space","monthPlacement","startDate","endDate","rectProps","rectRender","legendRender","value","weekLabels","monthLabels","panelColors","style"];function _(e){var t=e||{},r=t.rectSize,n=void 0===r?11:r,o=t.legendCellSize,a=void 0===o?11:o,i=t.space,l=void 0===i?2:i,c=t.monthPlacement,p=void 0===c?"top":c,y=t.startDate,h=void 0===y?new Date:y,x=t.endDate,P=t.rectProps,D=t.rectRender,E=t.legendRender,_=t.value,z=void 0===_?[]:_,M=t.weekLabels,T=void 0===M?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]:M,N=t.monthLabels,R=void 0===N?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]:N,L=t.panelColors,F=void 0===L?["var(--rhm-rect, #EBEDF0)","#C6E48B","#7BC96F","#239A3B","#196127"]:L,I=t.style,B=f(t,C),Y=Math.max.apply(Math,v(z.map((function(e){return e.count}))).concat([0])),J=Array.isArray(F)?O(F,Y):F,U=m((0,s.useState)(0),2),W=U[0],$=U[1],q=m((0,s.useState)(T?28:5),2),V=q[0],G=q[1],H="top"===p?20:5,K=m((0,s.useState)(R?H:5),2),Q=K[0],X=K[1],Z=d().createRef();(0,s.useEffect)((function(){return G(T?28:5)}),[T]),(0,s.useEffect)((function(){if(Z.current){var e=Z.current.clientWidth-V||0;$(Math.floor(e/(n+l))||0)}}),[n,Z,l,V]),(0,s.useEffect)((function(){X(R?H:5)}),[R]);var ee=(0,s.useMemo)((function(){if(j(h))return h.getDay()?new Date(h.getTime()-h.getDay()*S):h;var e=new Date;return new Date(e.getTime()-e.getDay()*S)}),[h]),te="top"===p?15:105+l,re="top"===p?Q+8*n+6:(R?Q+n+l:Q)+8*n+6;return(0,b.jsxs)("svg",u(u({ref:Z,style:u(u({},{color:"var(--rhm-text-color, #24292e)",userSelect:"none",display:"block",fontSize:10}),I)},B),{},{children:[0!==a&&(0,b.jsx)(k,{legendRender:E,panelColors:J,rectSize:n,rectY:re,legendCellSize:a,leftPad:V,topPad:Q,space:l}),(0,b.jsx)(g,{weekLabels:T,rectSize:n,space:l,topPad:Q}),(0,b.jsx)(w,{monthLabels:R,rectSize:n,space:l,leftPad:V,colNum:W,rectY:te,startDate:ee,endDate:x}),(0,b.jsx)(A,{transform:"translate(".concat(V,", ").concat(Q,")"),gridNum:W,initStartDate:ee,endDate:x,rectProps:P,rectSize:n,rectRender:D,panelColors:J,value:z,space:l})]}))}var z=["prefixCls","className"];function M(e){var t=e.prefixCls,r=void 0===t?"w-heatmap":t,n=e.className,o=f(e,z),a=[n,r].filter(Boolean).join(" ");return(0,b.jsx)(_,u({className:a},o))}return o})()));